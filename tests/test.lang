def extern malloc(size: u64): *void;
def extern free(ptr: *void);
def extern printf(_: *u8, _: f64): i32;
def extern puts(_: *u8): i32;
def extern putchar(_: i32): i32;
 
def derp(str: *u8) {
	puts(str);
}

def export main(argc: i32, argv: **u8) {
	arr: [12]i32;
	arr[0] = 48;
	arr[1] = 49;
	arr[2] = 10;

	putchar(arr[0]);
	putchar(arr[1]);
	putchar(arr[2]);

	first := &arr[0];
	first.* = 49;

	arr_ptr := &arr;
	putchar(arr_ptr.*[0]);
	putchar(arr_ptr.*[1]);
	putchar(arr_ptr.*[2]);

	a := i32(123);
	a = arr[0];
	arr[0] = a;
	b := f64(123);
	d := b;
	c: *f64 = &b;

	c = &d;
	c = &f64(321);

	msg: *u8 = "hello 1";
	derp(msg);
	msg = "hello 2";
	derp(msg);

	{
		derp("hey");
		puts("hello, world!");
	}
}

// def export main() {
// 	// a: u64 = 123;
// 	// b: u64 = 123;
// 	// a = 321;
// 
// 	a: u64 = 123;
// 	b := &a;
// 	c := a;
// 
// 	f := f32(123);
// 
// 	int := i32(50);
// 
// 	msg: *u8 = "hello";
// 	puts("hello");
// 	putchar(48);
// 	putchar(49);
// 	putchar(int);
// 	putchar(10);
// 
// 	printf("%lf", f64(123));
// 	putchar(10);
// }
